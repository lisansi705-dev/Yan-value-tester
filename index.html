<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI æ·±åº¦é¢œå€¼ä¸å‘½è¿é‰´å®š</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;700;900&display=swap');
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #000;
            color: #fff;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        /* æ‰«æçº¿åŠ¨ç”» */
        .scan-line {
            position: absolute;
            width: 100%;
            height: 4px;
            background: rgba(0, 255, 255, 0.8);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.8);
            top: 0;
            left: 0;
            animation: scan 2s infinite linear;
            z-index: 10;
        }

        @keyframes scan {
            0% { top: 0%; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { top: 100%; opacity: 0; }
        }

        /* è„‰å†²æ•ˆæœ */
        .pulse-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 2px solid #00ffff;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { width: 100px; height: 100px; opacity: 1; }
            100% { width: 300px; height: 300px; opacity: 0; }
        }

        /* æ•…éšœæ–‡å­—æ•ˆæœ */
        .glitch-text {
            position: relative;
            animation: glitch 1s linear infinite;
        }
        
        .hidden-section {
            display: none;
        }

        /* æ¨¡æ‹Ÿå¾®ä¿¡å„ç§æµè§ˆå™¨çš„å…¨å±é€‚é… */
        .app-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle at center, #1a202c 0%, #000000 100%);
        }
    </style>
</head>
<body>

    <!-- 1. é¦–é¡µ / ä¸Šä¼ é¡µ -->
    <div id="home-screen" class="app-container p-6 text-center">
        <div class="mb-8">
            <i class="fas fa-brain text-6xl text-cyan-400 mb-4 animate-pulse"></i>
            <h1 class="text-3xl font-black tracking-wider text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500">
                Veritas AI
            </h1>
            <p class="text-gray-400 text-sm mt-2 tracking-widest">ç¬¬ä¸‰ä»£é¢éƒ¨å‘½è¿è§£æç³»ç»Ÿ</p>
        </div>

        <div class="bg-gray-900/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 w-full max-w-sm shadow-2xl shadow-cyan-900/20">
            <div class="space-y-4">
                <div class="flex items-center space-x-3 text-left">
                    <i class="fas fa-check-circle text-green-500"></i>
                    <span class="text-gray-300 text-sm">éª¨ç›¸ç²¾å¯†æµ‹é‡ (ç²¾åº¦ 0.01mm)</span>
                </div>
                <div class="flex items-center space-x-3 text-left">
                    <i class="fas fa-check-circle text-green-500"></i>
                    <span class="text-gray-300 text-sm">çš®ç›¸è¡°è€æ¨¡æ‹Ÿ (æœªæ¥50å¹´)</span>
                </div>
                <div class="flex items-center space-x-3 text-left">
                    <i class="fas fa-check-circle text-green-500"></i>
                    <span class="text-gray-300 text-sm">å…¨çƒé¢œå€¼æ•°æ®åº“æ¯”å¯¹</span>
                </div>
            </div>

            <div class="mt-8 relative group">
                <input type="file" id="imageInput" accept="image/*" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20" onchange="handleImageUpload(event)">
                <button class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-4 px-6 rounded-xl transition-all duration-200 transform group-active:scale-95 shadow-[0_0_20px_rgba(8,145,178,0.5)] flex items-center justify-center space-x-2">
                    <i class="fas fa-camera"></i>
                    <span>ä¸Šä¼ /æ‹æ‘„ç…§ç‰‡</span>
                </button>
                <p class="text-xs text-gray-500 mt-2">ç…§ç‰‡ä»…ç”¨äºæœ¬åœ°åˆ†æï¼Œä¸ä¼šä¸Šä¼ äº‘ç«¯</p>
            </div>
        </div>
    </div>

    <!-- 2. åˆ†æä¸­é¡µé¢ -->
    <div id="processing-screen" class="hidden-section app-container p-0 overflow-hidden relative w-full h-full">
        <!-- èƒŒæ™¯å›¾ç‰‡é¢„è§ˆ -->
        <img id="preview-image" src="" alt="preview" class="absolute inset-0 w-full h-full object-cover opacity-30 blur-sm grayscale">
        
        <!-- æ‰«æå±‚ -->
        <div class="absolute inset-0 z-10">
            <div class="scan-line"></div>
            <!-- äººè„¸å®šä½æ¡†æ¨¡æ‹Ÿ -->
            <div class="absolute top-1/3 left-1/4 w-1/2 h-1/3 border-2 border-cyan-500/50 rounded-lg">
                <div class="absolute -top-1 -left-1 w-4 h-4 border-t-2 border-l-2 border-cyan-400"></div>
                <div class="absolute -top-1 -right-1 w-4 h-4 border-t-2 border-r-2 border-cyan-400"></div>
                <div class="absolute -bottom-1 -left-1 w-4 h-4 border-b-2 border-l-2 border-cyan-400"></div>
                <div class="absolute -bottom-1 -right-1 w-4 h-4 border-b-2 border-r-2 border-cyan-400"></div>
            </div>
            
            <!-- åŠ¨æ€æ•°æ® -->
            <div class="absolute top-10 left-4 font-mono text-xs text-green-400 space-y-1 opacity-70">
                <p>EYE_DIST: <span id="data-1">0.00</span>mm</p>
                <p>NOSE_H: <span id="data-2">0.00</span>mm</p>
                <p>JAW_ANGLE: <span id="data-3">0.00</span>deg</p>
            </div>
        </div>

        <!-- åº•éƒ¨è¿›åº¦æ¡ -->
        <div class="absolute bottom-10 w-full px-8 z-20">
            <div class="text-cyan-400 text-center font-mono mb-2 text-sm" id="status-text">æ­£åœ¨åˆå§‹åŒ–ç¥ç»å…ƒç½‘ç»œ...</div>
            <div class="w-full bg-gray-800 rounded-full h-2 overflow-hidden">
                <div id="progress-bar" class="bg-cyan-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <!-- 3. ç»“æœé¡µ -->
    <div id="result-screen" class="hidden-section app-container p-6 relative">
        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"></div>
        
        <div class="z-10 w-full max-w-sm text-center">
            <div class="mb-6 relative">
                <!-- ç»“æœå›¾ç‰‡ -->
                <div class="w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-red-600 shadow-[0_0_30px_rgba(220,38,38,0.6)] relative">
                    <img id="result-image-display" src="" class="w-full h-full object-cover filter grayscale contrast-125">
                    <div class="absolute inset-0 bg-red-900/30"></div>
                </div>
                <div class="absolute -bottom-3 left-1/2 transform -translate-x-1/2 bg-red-600 text-white px-3 py-1 rounded text-xs font-bold tracking-widest">
                    FATAL ERROR
                </div>
            </div>

            <h2 class="text-sm text-gray-400 uppercase tracking-[0.2em] mb-1">AI æœ€ç»ˆè£å†³</h2>
            <div class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-b from-red-500 to-red-800 mb-6 drop-shadow-sm">
                å»ºè®®é‡å¼€
            </div>

            <!-- å‡çš„è¯¦ç»†æ•°æ® -->
            <div class="bg-gray-900/90 border border-red-900/50 rounded-xl p-4 mb-6">
                <div class="grid grid-cols-2 gap-4 text-left">
                    <div>
                        <p class="text-xs text-gray-500">é¢œå€¼è¯„åˆ†</p>
                        <p class="text-xl font-mono text-red-500">-999 <span class="text-xs">/100</span></p>
                    </div>
                    <div>
                        <p class="text-xs text-gray-500">åŸºå› è¡¥æ•‘ç‡</p>
                        <p class="text-xl font-mono text-red-500">0.00%</p>
                    </div>
                    <div class="col-span-2 border-t border-gray-800 pt-3 mt-1">
                        <p class="text-xs text-gray-500 mb-1">ç³»ç»Ÿè¯„è¯­</p>
                        <p class="text-sm text-gray-300 leading-relaxed" id="roast-text">
                            ç»æ£€æµ‹ï¼Œæ‚¨çš„é¢éƒ¨ç†µå€¼å·²çªç ´ç‰©ç†æé™ã€‚ä¸ºäº†ç»´æŠ¤å®‡å®™å®¡ç¾çš„çƒ­åŠ›å­¦å¹³è¡¡ï¼Œä¸”ç›®å‰äººç±»æ•´å®¹ç§‘æŠ€å°šæœªçªç ´æ­¤æŠ€æœ¯å£å’ï¼Œç³»ç»Ÿå»ºè®®æ‚¨ç«‹å³æŒ‰ä¸‹äººç”Ÿé‡å¯é”®ã€‚
                        </p>
                    </div>
                </div>
            </div>

            <!-- æŒ‰é’® -->
            <div class="space-y-3">
                <button onclick="shareResult()" class="w-full bg-white text-black font-bold py-3 px-6 rounded-lg hover:bg-gray-200 transition">
                    <i class="fas fa-share-alt mr-2"></i> è½¬å‘ç»™æ­»å…š (ç»äº¤ç¥å™¨)
                </button>
                <button onclick="resetApp()" class="w-full border border-gray-600 text-gray-400 py-3 px-6 rounded-lg hover:bg-gray-900 transition text-sm">
                    æˆ‘ä¸æœï¼Œæ¢å¼ ç…§ç‰‡ (ç»“å±€å·²å®š)
                </button>
            </div>
        </div>
    </div>

    <!-- å¼¹çª—æç¤º -->
    <div id="toast" class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-xl transition-opacity duration-300 opacity-0 pointer-events-none z-50">
        å·²å¤åˆ¶ç»“æœï¼Œå¿«å»å¾®ä¿¡ç²˜è´´ï¼
    </div>

    <script>
        // DOM å…ƒç´ 
        const screens = {
            home: document.getElementById('home-screen'),
            processing: document.getElementById('processing-screen'),
            result: document.getElementById('result-screen')
        };
        const previewImg = document.getElementById('preview-image');
        const resultImgDisplay = document.getElementById('result-image-display');
        const progressBar = document.getElementById('progress-bar');
        const statusText = document.getElementById('status-text');
        
        // éšæœºç”Ÿæˆçš„æ¯’èˆŒè¯„è¯­åº“
        const roastLibrary = [
            "ç»æ£€æµ‹ï¼Œæ‚¨çš„é¢éƒ¨éšæœºæ€§è¿‡é«˜ï¼Œä¸Šå¸åœ¨æè„¸æ—¶å¯èƒ½ä¸ä»…æ‰‹æŠ–äº†ï¼Œå¯èƒ½è¿˜æ‰“äº†ä¸ªå–·åšã€‚",
            "ç³»ç»Ÿå°è¯•ä¸ºæ‚¨å¯»æ‰¾ç›¸ä¼¼æ˜æ˜Ÿï¼Œæœ€ååŒ¹é…åˆ°äº†ã€Šå±±æµ·ç»ã€‹ç¬¬ 34 é¡µçš„æ’å›¾ã€‚",
            "æ‚¨çš„é•¿ç›¸éå¸¸æç¥ï¼Œå…·æœ‰æå¼ºçš„é¿å­•æ•ˆæœã€‚ä¸ºäº†äººç±»åŸºå› åº“çš„ä¼˜åŒ–ï¼Œè¿™è¾¹å»ºè®®æ‚¨æ³¨é”€è´¦å·é‡ç»ƒã€‚",
            "è¿™æ˜¯ä¸€ä¸ªæ‚²ä¼¤çš„æ•…äº‹ï¼Œæ‚¨çš„äº”å®˜ä¼¼ä¹ä¸ä»…è°ä¹Ÿä¸æœè°ï¼Œè¿˜å‡†å¤‡ç¦»å®¶å‡ºèµ°ã€‚",
            "è™½ç„¶æˆ‘å¾ˆæƒ³ç»™æ‚¨æ‰“åˆ†ï¼Œä½†æ˜¯ç³»ç»Ÿæç¤º'æ•°æ®æº¢å‡º'ã€‚è¿™ç§ç¾å­¦ä¸Šçš„æ— è§£é¢˜ï¼Œå»ºè®®ç›´æ¥æŠ•èƒè§£å†³ã€‚",
            "é¢œå€¼åˆ¤å®šå¤±è´¥ã€‚åŸå› ï¼šç³»ç»Ÿæ— æ³•åœ¨æ‚¨çš„é¢éƒ¨æ‰¾åˆ°ä»»ä½•'ç¾'çš„å‡ ä½•ç‰¹å¾ã€‚"
        ];

        // åˆ‡æ¢å±å¹•çš„è¾…åŠ©å‡½æ•°
        function showScreen(screenName) {
            Object.values(screens).forEach(el => el.classList.add('hidden-section'));
            screens[screenName].classList.remove('hidden-section');
        }

        // å¤„ç†å›¾ç‰‡ä¸Šä¼ 
        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                // è®¾ç½®é¢„è§ˆå›¾
                previewImg.src = e.target.result;
                resultImgDisplay.src = e.target.result;
                
                // å¼€å§‹è¡¨æ¼”
                startAnalysis();
            };
            reader.readAsDataURL(file);
        }

        // æ¨¡æ‹Ÿ AI åˆ†æè¿‡ç¨‹
        function startAnalysis() {
            showScreen('processing');
            
            // éšæœºæ•°æ®è·³åŠ¨
            const interval = setInterval(() => {
                document.getElementById('data-1').innerText = (Math.random() * 100).toFixed(2);
                document.getElementById('data-2').innerText = (Math.random() * 50).toFixed(2);
                document.getElementById('data-3').innerText = (Math.random() * 180).toFixed(2);
            }, 100);

            // è¿›åº¦æ¡ä¸æ–‡æ¡ˆæµç¨‹
            const steps = [
                { progress: 10, text: "æ­£åœ¨ä¸Šä¼ è‡³äº‘ç«¯..." },
                { progress: 30, text: "è¯†åˆ«é¢éƒ¨å…³é”®ç‚¹ (68/68)..." },
                { progress: 50, text: "åˆ†æéª¨ç›¸ä¸çš®ç›¸..." },
                { progress: 70, text: "æ­£åœ¨ä¸å…¨çƒ 70 äº¿äººæ¯”å¯¹..." },
                { progress: 85, text: "å‘ç°å¼‚å¸¸æ•°æ®ï¼Œæ­£åœ¨å¤æ ¸..." },
                { progress: 95, text: "è®¡ç®—æœ€ç»ˆç”Ÿå­˜æ¦‚ç‡..." },
                { progress: 100, text: "ç”Ÿæˆè¯Šæ–­æŠ¥å‘Š..." }
            ];

            let currentStep = 0;

            const processLoop = () => {
                if (currentStep >= steps.length) {
                    clearInterval(interval);
                    setTimeout(showResult, 500);
                    return;
                }

                const step = steps[currentStep];
                progressBar.style.width = step.progress + '%';
                statusText.innerText = step.text;
                
                // è¶Šå¾€åè¶Šæ…¢ï¼Œå¢åŠ ç´§å¼ æ„Ÿ
                const delay = 500 + Math.random() * 1000; 
                currentStep++;
                setTimeout(processLoop, delay);
            };

            processLoop();
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            // éšæœºé€‰ä¸€å¥æ¯’èˆŒ
            const randomRoast = roastLibrary[Math.floor(Math.random() * roastLibrary.length)];
            document.getElementById('roast-text').innerText = randomRoast;
            
            showScreen('result');
        }

        // é‡ç½®
        function resetApp() {
            // æ¸…ç©º input è¿™æ ·å¯ä»¥é‡å¤ä¸Šä¼ åŒä¸€å¼ å›¾ç‰‡
            document.getElementById('imageInput').value = '';
            progressBar.style.width = '0%';
            showScreen('home');
        }

        // åˆ†äº«/å¤åˆ¶åŠŸèƒ½
        function shareResult() {
            // ç®€å•æ¨¡æ‹Ÿå¤åˆ¶æ–‡æ¡ˆ
            const text = "å±…ç„¶æœ‰äººå¼€å‘äº†ä¸ªAIé¢œå€¼é‰´å®šï¼Œå¤ªå‡†äº†ï¼æˆ‘è¢«è¯„ä¸ºé¡¶çº§éª¨ç›¸ï¼Œä½ ä¹Ÿæ¥æµ‹æµ‹ï¼ŸğŸ‘‰ [é“¾æ¥]";
            
            // ä½¿ç”¨ç°ä»£ Clipboard APIï¼Œå¸¦æœ‰æ—§æµè§ˆå™¨çš„å›é€€æ–¹æ¡ˆ
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(text).then(() => {
                    showToast("æ–‡æ¡ˆå·²å¤åˆ¶ï¼Œå¿«å»å‘ç»™æœ‹å‹æ•´è›Šï¼");
                }).catch(() => {
                    showToast("åˆ†äº«å¤±è´¥ï¼Œè¯·æˆªå›¾å‘é€");
                });
            } else {
                // æ—§æµè§ˆå™¨å›é€€æ–¹æ¡ˆ
                const textArea = document.createElement("textarea");
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    showToast("æ–‡æ¡ˆå·²å¤åˆ¶ï¼Œå¿«å»å‘ç»™æœ‹å‹æ•´è›Šï¼");
                } catch (err) {
                    showToast("åˆ†äº«å¤±è´¥ï¼Œè¯·æˆªå›¾å‘é€");
                }
                document.body.removeChild(textArea);
            }
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.innerText = message;
            toast.style.opacity = '1';
            setTimeout(() => {
                toast.style.opacity = '0';
            }, 2000);
        }
    </script>
</body>
</html>